<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="header">
                <h4 class="title">Najave</h4>
                <p class="category">Izaberite jednu od kategorija</p>
            </div>
            <div class="card-header">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#pristigle">Pristigle</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#vracene" style="color:red;">Vraćene</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#prihvacene" style="color:lightseagreen;">Prihvaćene</a>
                    </li>
                    <li class="nav-item" style="float:right;line-height:45px;">
                        <button type="button" data-toggle="modal" class="btn btn-success" data-target="#sampleModal">
                            Dodaj najavu
                        </button>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="pristigle">
                        <ul class="list-group media-list media-list-stream">
                            <div class="content table-responsive table-full-width">
                                <table id="pristigle-table" class="table table-hover table-striped">
                                    <thead>
                                    <th>Ime</th>
                                    <th>Prezime</th>
                                    <th>Grad</th>
                                    <th>Adresa</th>
                                    <th>Datum</th>
                                    <th>Od</th>
                                    <th>Do</th>
                                    <th></th>
                                    <th></th>
                                    </thead>
                                    <tbody id="pristigle-body">

                                    </tbody>
                                </table>
                            </div>
                        </ul>
                    </div>
                    <div role="tabpanel" class="tab-pane fade in" id="vracene">
                        <ul class="list-group media-list media-list-stream">
                            <div class="content table-responsive table-full-width">
                                <table id="vracene-table" class="table table-hover table-striped">
                                    <thead>
                                    <th>Ime</th>
                                    <th>Prezime</th>
                                    <th>Grad</th>
                                    <th>Adresa</th>
                                    <th>Datum</th>
                                    <th>Od</th>
                                    <th>Do</th>
                                    <th></th>
                                    <th></th>
                                    </thead>
                                    <tbody id="vracene-body">

                                    </tbody>
                                </table>
                            </div>
                        </ul>
                    </div>
                    <div role="tabpanel" class="tab-pane fade in" id="prihvacene">
                        <ul class="list-group media-list media-list-stream">
                            <div class="content table-responsive table-full-width">
                                <table id="prihvacene-table" class="table table-hover table-striped">
                                    <thead>
                                    <th>Ime</th>
                                    <th>Prezime</th>
                                    <th>Grad</th>
                                    <th>Adresa</th>
                                    <th>Datum</th>
                                    <th>Od</th>
                                    <th>Do</th>
                                    <th></th>
                                    <th></th>
                                    </thead>
                                    <tbody id="prihvacene-body">

                                    </tbody>
                                </table>
                            </div>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $(['pristigle', 'vracene', 'prihvacene']).each(function (index, name) {
            $('#'+name+'-table').DataTable({
                responsive: true,
                autoWidth: false,
                ajax:  {
                    url: 'rest/'+name,
                    dataSrc: 'reservations',
                    dom: 'rtip', // the "r" is for the "processing" message
                    processing: true, // you have to set this to true as well
                    serverSide: true
                },
                columns: [
                    { data: "name" },
                    { data: "surname" },
                    { data: "city" },
                    { data: "address" },
                    { data: "for_date" },
                    { data: "from_hour" },
                    { data: "to_hour" },
                    { data: "reservation_id",
                        render : function(data, type, row) {
                            return '<button onclick="delete_reservation('+data+')" class="btn btn-primary">Pregledaj</button>'
                        }
                    },
                    { data: "reservation_id",
                        render : function(data, type, row) {
                            return '<button onclick="delete_reservation('+data+')" class="btn btn-danger">Obriši</button>'
                        }
                    }
                ]
            });
        });

        $.get("rest/gradovi", function (data) {
            $.each(data, function (index, item) {
                $('#cities').append(
                    $('<option></option>').val(item.city).html(item.city)
                );
            });
        });
    })
</script>

