<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="header">
                <h4 class="title">Studenti</h4>
                <p class="category">Izaberite jednu od kategorija</p>
            </div>
            <div class="card-header">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#currentPreferences">Osnovna škola</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#alternative">Srednja škola</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#link">Fakultet</a>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="currentPreferences">
                        <ul class="list-group media-list media-list-stream">
                            <div class="content table-responsive table-full-width">
                                <table id="osnovci-table" class="table table-hover table-striped">
                                    <thead>
                                    <th>ID</th>
                                    <th>Ime</th>
                                    <th>Prezime</th>
                                    <th>Grad</th>
                                    <th>Adresa</th>
                                    <th>E-mail</th>
                                    <th>Broj telefona</th>
                                    <th>Škola/Univerzitet</th>
                                    <th>Razred/Godina</th>
                                    <th>Prosjek</th>
                                    </thead>
                                    <tbody id="osnovna-body">

                                    </tbody>
                                </table>
                            </div>
                        </ul>
                    </div>
                    <div role="tabpanel" class="tab-pane fade in" id="alternative">
                        <ul class="list-group media-list media-list-stream">
                            <div class="content table-responsive table-full-width">
                                <table id="srednjoskolci-table" class="table table-hover table-striped">
                                    <thead>
                                    <th>ID</th>
                                    <th>Ime</th>
                                    <th>Prezime</th>
                                    <th>Grad</th>
                                    <th>Adresa</th>
                                    <th>E-mail</th>
                                    <th>Broj telefona</th>
                                    <th>Škola/Univerzitet</th>
                                    <th>Razred/Godina</th>
                                    <th>Prosjek</th>
                                    </thead>
                                    <tbody id="srednja-body">

                                    </tbody>
                                </table>
                            </div>
                        </ul>
                    </div>
                    <div role="tabpanel" class="tab-pane fade in" id="link">
                        <ul class="list-group media-list media-list-stream">
                            <div class="content table-responsive table-full-width">
                                <table id="studenti-table" class="table table-hover table-striped">
                                    <thead>
                                    <th>ID</th>
                                    <th>Ime</th>
                                    <th>Prezime</th>
                                    <th>Grad</th>
                                    <th>Adresa</th>
                                    <th>E-mail</th>
                                    <th>Broj telefona</th>
                                    <th>Škola/Univerzitet</th>
                                    <th>Razred/Godina</th>
                                    <th>Prosjek</th>
                                    </thead>
                                    <tbody id="faks-body">

                                    </tbody>
                                </table>
                            </div>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('a[data-toggle="tab"]').on( 'shown.bs.tab', function (e) {
            $.fn.dataTable.tables( {visible: true, api: true} ).columns.adjust();
        } );
        $(['osnovci', 'srednjoskolci', 'studenti']).each(function (index, name) {
            $('#'+name+'-table').DataTable({
                responsive: true,
                autoWidth: false,
                ajax:  {
                    url: 'rest/'+name,
                    dataSrc: 'students',
                    dom: 'rtip', // the "r" is for the "processing" message
                    processing: true, // you have to set this to true as well
                    serverSide: true
                },
                columns: [
                    { data: "id" },
                    { data: "name" },
                    { data: "surname" },
                    { data: "city" },
                    { data: "address" },
                    { data: "email" },
                    { data: "tel1" },
                    { data: "facility_name" },
                    { data: "year_of_study" },
                    { data: "gpa" }
                ]
            });
        });
    })

</script>
